import"../chunks/DsnmJJEf.js";import"../chunks/BFNGBcc7.js";import{o as ve}from"../chunks/CJgI0qws.js";import{p as X,a as Y,M as t,O as a,P as o,y as P,o as e,u as U,t as le,Q as f,R as de,T as me,U as m,V as c,$ as be,W as ge}from"../chunks/9-_W6_Jj.js";import{p as O,s as p,e as w}from"../chunks/Cv-eKTXv.js";import{d as C,f as M,i as ue}from"../chunks/DMh7ZjmC.js";import{h as fe}from"../chunks/D50xvMqx.js";import{e as pe,i as _e,c as E,n as H,s as he,d as K}from"../chunks/ha-UOQYi.js";import{h as ye,s as ke}from"../chunks/BE6tXbhH.js";import{i as Z}from"../chunks/Cjo9otzO.js";import"../chunks/CI00P8Y_.js";import{s as xe}from"../chunks/Su-FUoRt.js";var Se=M('<button type="button"><!> <span> </span></button>'),we=M('<div class="cs-tabs svelte-1rfdc18"></div>');function Ce(I,g){X(g,!1);let s=O(g,"concerns",24,()=>[]),b=O(g,"activeIndex",8,0),v=O(g,"onSelect",8,()=>{});Z();var u=we();pe(u,5,s,_e,(h,l,n)=>{var r=Se();let y;var k=a(r);ye(k,()=>(le(E),e(l),U(()=>E(e(l)?.name))));var x=o(k,2),_=a(x,!0);t(x),t(r),P(()=>{y=xe(r,1,"cs-tab svelte-1rfdc18",null,y,{"is-active":n===b()}),p(_,(e(l),U(()=>e(l)?.name||"â€”")))}),w("click",r,()=>v()(n)),C(h,r)}),t(u),C(I,u),Y()}var Me=M('<img class="cs-image svelte-1bm52gb" loading="lazy" referrerpolicy="no-referrer"/>'),Ie=M('<section class="cs-screen is-open svelte-1bm52gb"><div class="cs-root svelte-1bm52gb"><div class="cs-top svelte-1bm52gb"><button class="cs-back svelte-1bm52gb" type="button" aria-label="Back"><svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></button> <div class="cs-title svelte-1bm52gb"> </div></div> <div class="cs-hero svelte-1bm52gb"><!> <button class="cs-close svelte-1bm52gb" type="button" aria-label="Close"><svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg></button></div> <div class="cs-sheet svelte-1bm52gb"><!> <div class="cs-heading svelte-1bm52gb"><div class="cs-heading-row svelte-1bm52gb"><div class="cs-name svelte-1bm52gb"> </div> <div class="cs-sev svelte-1bm52gb"> </div></div> <div class="cs-score-row svelte-1bm52gb"><div class="cs-score svelte-1bm52gb"> </div> <div class="cs-score-den svelte-1bm52gb">/ 100</div></div> <div class="cs-bar svelte-1bm52gb"><div class="cs-bar-fill svelte-1bm52gb"></div></div></div> <div class="cs-desc svelte-1bm52gb"> </div></div></div></section>');function De(I,g){X(g,!1);const s=m(),b=m(),v=m(),u=m(),h=m(),l=m();let n=m([]),r=m(0);ve(()=>{if(typeof sessionStorage<"u"){const i=sessionStorage.getItem("concernData");if(i)try{const d=JSON.parse(i);c(n,Array.isArray(d.concerns)?d.concerns:[]);const S=H(d.selectedName);if(S&&e(n).length){const q=e(n).findIndex(ce=>H(ce?.name)===S);c(r,q>=0?q:0)}}catch{}}});function y(i){c(r,i)}function k(){history.back()}function x(){history.back()}f(()=>(e(n),e(r)),()=>{c(s,e(n)[e(r)]||{})}),f(()=>e(s),()=>{c(b,e(s)?.name||"Concern")}),f(()=>e(s),()=>{c(v,Math.max(0,Math.min(100,Number(e(s)?.value??0))))}),f(()=>(e(s),e(v)),()=>{c(u,String(e(s)?.severity||"").trim()||he(e(v)))}),f(()=>e(s),()=>{c(h,e(s)?.description||e(s)?.info||e(s)?.details||e(s)?.summary||"No additional information available for this concern.")}),f(()=>e(s),()=>{c(l,e(s)?.image||"")}),de(),Z();var _=Ie();fe("1bm52gb",i=>{me(()=>{be.title=`${e(b)??""} | SkinGPT`})});var V=a(_),N=a(V),$=a(N),j=o($,2),ee=a(j,!0);t(j),t(N);var T=o(N,2),D=a(T);{var te=i=>{var d=Me();P(()=>{K(d,"src",e(l)),K(d,"alt",e(b))}),w("error",d,S=>{S.target.style.background="linear-gradient(180deg, #f2f2f4, #e9e9ee)"}),C(i,d)};ue(D,i=>{e(l)&&i(te)})}var se=o(D,2);t(T);var G=o(T,2),J=a(G);Ce(J,{get concerns(){return e(n)},get activeIndex(){return e(r)},onSelect:y});var B=o(J,2),z=a(B),A=a(z),ae=a(A);t(A);var L=o(A,2),re=a(L,!0);t(L),t(z);var F=o(z,2),Q=a(F),ie=a(Q,!0);t(Q),ge(2),t(F);var R=o(F,2),oe=a(R);t(R),t(B);var W=o(B,2),ne=a(W,!0);t(W),t(G),t(V),t(_),P(i=>{p(ee,e(b)),p(ae,`${e(b)??""}:`),p(re,e(u)),p(ie,i),ke(oe,`width: ${e(v)??""}%`),p(ne,e(h))},[()=>(e(v),U(()=>Math.round(e(v))))]),w("click",$,k),w("click",se,x),C(I,_),Y()}export{De as component};
