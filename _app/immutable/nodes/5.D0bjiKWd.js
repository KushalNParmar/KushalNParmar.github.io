import"../chunks/DsnmJJEf.js";import"../chunks/BFNGBcc7.js";import{o as we}from"../chunks/CJgI0qws.js";import{p as J,Q as p,R as Y,y as C,a as W,t as w,V as c,O as t,M as s,P as v,W as ne,o as e,U as d,u as L,e as he,$ as ye}from"../chunks/9-_W6_Jj.js";import{p as F,s as b,e as I}from"../chunks/Cv-eKTXv.js";import{d as h,f as y,i as R}from"../chunks/DMh7ZjmC.js";import{j as xe,d as ae,e as le,t as ie,k as ve,i as Se}from"../chunks/ha-UOQYi.js";import{s as ce,h as Me}from"../chunks/BE6tXbhH.js";import{h as Ae}from"../chunks/D50xvMqx.js";import{i as z}from"../chunks/Cjo9otzO.js";import{g as oe}from"../chunks/B-gExwhp.js";import{b as Le}from"../chunks/Cnjqa8SA.js";import{s as Ne}from"../chunks/CdEA5IGF.js";var Pe=y('<div class="sr-card svelte-19ve5wb"><div class="sr-tone-top svelte-19ve5wb"><div class="sr-tone-label svelte-19ve5wb"> </div></div> <div class="sr-tone-track svelte-19ve5wb" aria-hidden="true"><div class="sr-tone-thumb svelte-19ve5wb"></div></div> <div class="sr-tone-bottom svelte-19ve5wb"><div class="sr-tone-k svelte-19ve5wb">Skin tone</div></div></div>');function Te(x,k){J(k,!1);const m=d(),f=d();let n=F(k,"toneLabel",8,"Light");p(()=>w(n()),()=>{c(m,(n()||"").toString().trim()||"Light")}),p(()=>w(n()),()=>{c(f,xe(n()))}),Y(),z();var o=Pe(),_=t(o),l=t(_),u=t(l,!0);s(l),s(_);var r=v(_,2),a=t(r);s(r),ne(2),s(o),C(()=>{b(u,e(m)),ce(a,`left: ${e(f)??""}%`)}),h(x,o),W()}var Be=y('<div class="sr-concern-card svelte-1i7r7sy"><img class="sr-concern-img svelte-1i7r7sy" loading="lazy" referrerpolicy="no-referrer"/> <div class="sr-concern-bottom svelte-1i7r7sy"><div class="sr-concern-title-row svelte-1i7r7sy"><div><div class="sr-concern-name svelte-1i7r7sy"> </div> <div class="sr-concern-sev svelte-1i7r7sy"> </div></div> <div class="sr-score svelte-1i7r7sy"><div class="sr-score-inner svelte-1i7r7sy"><div class="sr-score-top svelte-1i7r7sy"> </div> <div class="sr-score-bot svelte-1i7r7sy">100</div></div></div></div> <button class="sr-show-more svelte-1i7r7sy" type="button">Show more</button></div></div>');function Ce(x,k){J(k,!1);const m=d(),f=d(),n=d();let o=F(k,"concern",24,()=>({})),_=F(k,"onShowMore",8,()=>{});p(()=>w(o()),()=>{c(m,o()?.name||"—")}),p(()=>w(o()),()=>{c(f,Math.max(0,Math.min(100,Number(o()?.value??0))))}),p(()=>w(o()),()=>{c(n,(o()?.severity||"").toString().trim()||"—")}),Y(),z();var l=Be(),u=t(l),r=v(u,2),a=t(r),g=t(a),N=t(g),E=t(N,!0);s(N);var M=v(N,2),P=t(M,!0);s(M),s(g);var A=v(g,2),T=t(A),j=t(T),q=t(j,!0);s(j),ne(2),s(T),s(A),s(a);var B=v(a,2);s(r),s(l),C(()=>{ae(u,"src",(w(o()),L(()=>o()?.image||""))),ae(u,"alt",e(m)),b(E,e(m)),b(P,e(n)),ce(A,`--p:${e(f)??""}`),b(q,e(f))}),I("error",u,D=>{D.target.style.background="linear-gradient(180deg, #f2f2f4, #e9e9ee)"}),I("click",B,Ne(()=>_()(o()))),h(x,l),W()}var Fe=y('<button class="sr-next svelte-1qacgsu" type="button" aria-label="Next"><svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></button>'),je=y('<div class="sr-carousel-wrap svelte-1qacgsu"><div class="sr-carousel svelte-1qacgsu"></div> <!></div>');function qe(x,k){J(k,!1);let m=F(k,"concerns",24,()=>[]),f=F(k,"onShowMore",8,()=>{}),n=d();function o(){e(n)&&e(n).scrollBy({left:e(n).clientWidth*.85,behavior:"smooth"})}z();var _=je(),l=t(_);le(l,5,m,a=>a.name,(a,g)=>{Ce(a,{get concern(){return e(g)},get onShowMore(){return f()}})}),s(l),Le(l,a=>c(n,a),()=>e(n));var u=v(l,2);{var r=a=>{var g=Fe();I("click",g,o),h(a,g)};R(u,a=>{w(m()),L(()=>m().length>1)&&a(r)})}s(_),h(x,_),W()}var De=y('<div class="sr-tag svelte-1e2k7we"><!> <span> </span></div>'),Oe=y('<div class="sr-block"><div class="sr-h2 svelte-1e2k7we">Your skin looks great!</div> <div class="sr-sub svelte-1e2k7we">These parameters are in excellent condition:</div> <div class="sr-tags svelte-1e2k7we"></div></div>'),Re=y('<div class="sr-summary svelte-1e2k7we"> </div>'),Ie=y('<section class="sr-screen is-open svelte-1e2k7we"><div class="sr-top svelte-1e2k7we"><button class="sr-back svelte-1e2k7we" type="button" aria-label="Back"><svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></button> <div class="sr-time svelte-1e2k7we"> </div></div> <div class="sr-content svelte-1e2k7we"><div class="sr-card sr-row svelte-1e2k7we"><div class="sr-kv svelte-1e2k7we"><div class="sr-k svelte-1e2k7we">Skin type</div> <div class="sr-v svelte-1e2k7we"> </div></div></div> <div class="sr-grid2 svelte-1e2k7we"><div class="sr-card svelte-1e2k7we"><div class="sr-k svelte-1e2k7we">Perceived age</div> <div class="sr-v sr-v-lg svelte-1e2k7we"> </div></div> <div class="sr-card svelte-1e2k7we"><div class="sr-k svelte-1e2k7we">Eye age</div> <div class="sr-v sr-v-lg svelte-1e2k7we"> </div></div></div> <!> <!> <!> <!></div></section>');function $e(x,k){J(k,!1);const m=d(),f=d(),n=d(),o=d(),_=d(),l=d();let u=null,r=d({}),a=d([]),g=d("");we(()=>{if(typeof sessionStorage<"u"){const i=sessionStorage.getItem("skinPortraitResult");if(i)try{u=JSON.parse(i),c(r,u?.report_data?.output?.skinData||{}),c(a,Array.isArray(e(r)?.concerns)?e(r).concerns:[]),c(g,u?.report_data?.createdAt||u?.created_at||u?.updated_at||"")}catch{}}});function N(){oe("/skin-portrait")}function E(i){typeof sessionStorage<"u"&&sessionStorage.setItem("concernData",JSON.stringify({concerns:e(a),selectedName:i?.name||""})),oe("/concern")}p(()=>e(r),()=>{c(m,e(r)?.skin_type||"—")}),p(()=>e(r),()=>{c(f,Number.isFinite(e(r)?.skin_age)?e(r).skin_age:"—")}),p(()=>e(r),()=>{c(n,Number.isFinite(e(r)?.eye_age)?e(r).eye_age:"—")}),p(()=>e(r),()=>{c(o,e(r)?.skin_tone||"Light")}),p(()=>e(r),()=>{c(_,e(r)?.summary||"")}),p(()=>e(a),()=>{c(l,e(a).slice(0,6).map(i=>i?.name).filter(Boolean))}),Y(),z();var M=Ie();Ae("1e2k7we",i=>{he(()=>{ye.title="Analysis Result | SkinGPT"})});var P=t(M),A=t(P),T=v(A,2),j=t(T,!0);s(T),s(P);var q=v(P,2),B=t(q),D=t(B),H=v(t(D),2),de=t(H,!0);s(H),s(D),s(B);var G=v(B,2),Q=t(G),K=v(t(Q),2),ue=t(K,!0);s(K),s(Q);var X=v(Q,2),Z=v(t(X),2),me=t(Z,!0);s(Z),s(X),s(G);var $=v(G,2);Te($,{get toneLabel(){return e(o)}});var ee=v($,2);{var _e=i=>{var S=Oe(),O=v(t(S),4);le(O,5,()=>e(l),Se,(pe,U)=>{var V=De(),te=t(V);Me(te,()=>(w(ve),e(U),L(()=>ve(e(U)))));var re=v(te,2),be=t(re,!0);s(re),s(V),C(()=>b(be,e(U))),h(pe,V)}),s(O),s(S),h(i,S)};R(ee,i=>{e(l),L(()=>e(l).length)&&i(_e)})}var se=v(ee,2);{var ke=i=>{qe(i,{get concerns(){return e(a)},onShowMore:E})};R(se,i=>{e(a),L(()=>e(a).length)&&i(ke)})}var ge=v(se,2);{var fe=i=>{var S=Re(),O=t(S,!0);s(S),C(()=>b(O,e(_))),h(i,S)};R(ge,i=>{e(_)&&i(fe)})}s(q),s(M),C(i=>{b(j,i),b(de,e(m)),b(ue,e(f)),b(me,e(n))},[()=>(w(ie),e(g),L(()=>ie(e(g))))]),I("click",A,N),h(x,M),W()}export{$e as component};
